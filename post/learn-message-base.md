其他基础知识

#### tcp 需要三次握手
- 由发送端判断，避免重复的、过期的、错误的连接建立
- 交换双方的初始序列号 （重复的、无序的、丢失） SYN ACK SEQ


#### tcp 的四次挥手
- 确认双方都收到关闭 FIN ACK
- 被关闭方继续发送未完成的数据
- 关闭方等待 2MSL 的时间后在完成关闭连接（避免端口被立刻重复使用）

#### tcp 相关连接状态
TIME_WAIT 、CLOSE_WAIT 
```
netstat  -anp | grep TIME_WAIT | wc -l
CLOSE_WAIT： 被动关闭的一方，等待上层应用调度关闭
TIME_WAIT： 主动关闭的一方， 等待 2ML 的时间后关闭

time_wait作用
防止前一个连接上延迟的数据包或者丢失重传的数据包，被后面复用的连接错误的接收
确保连接方能在时间范围内，关闭自己的连接
为了保证客户端发送的最后一个ACK 报文能够到达服务器
```
